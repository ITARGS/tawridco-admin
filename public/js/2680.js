"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2680],{2680:(t,s,e)=>{e.r(s),e.d(s,{default:()=>i});var a=e(9669),o=e.n(a),r=e(3023);const n={components:{lang:e(8453).Z},data:function(){return{isLoading:!1,user:{email:1===this.$isDemo||"1"===this.$isDemo?"delivery@gmail.com":"",password:1===this.$isDemo||"1"===this.$isDemo?"123456":"",type:4},showPassword:!1,loggedUser:r.Z.user,setting:""}},computed:{isRTL:{get:function(){return localStorage.getItem("isRTL")},set:function(t){localStorage.setItem("isRTL",t)}}},mounted:function(){this.loggedUser&&this.$router.push("/delivery_boy/login")},methods:{loginCheck:function(){var t=this,s=this;this.isLoading=!0;var e=this.$apiUrl+"/login";o().post(e,this.user).then((function(e){s.isLoading=!1;var a=e.data;1===a.status?(r.Z.login(a.data.access_token,a.data.user),t.$router.push("/delivery_boy")):s.showError(a.message)})).catch((function(e){s.isLoading=!1,e.request.statusText?t.showError(e.request.statusText):e.message?t.showError(e.message):t.showError("Something went wrong!")}))}}};const i=(0,e(1900).Z)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"auth",style:{backgroundImage:"url("+t.$panelLoginBackgroundImg+")"}},[e("lang"),t._v(" "),e("div",{staticClass:"login-wrapper"},[e("div",{staticClass:"auth-section"},[e("div",{staticClass:"auth-card"},[e("div",{staticClass:"auth-logo"},[e("a",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start"},attrs:{href:"javascript:void(0)"}},[""!=t.$appLogo?e("img",{staticStyle:{height:"70px",width:"70px"},attrs:{src:t.$storageUrl+t.$appLogo,alt:"Logo"}}):e("img",{staticStyle:{height:"70px",width:"70px"},attrs:{src:t.$baseUrl+"/images/logo.png",alt:"Logo"}}),t._v(" "),e("h2",{staticStyle:{margin:"10px"}},[t._v(t._s(t.$appName))])])]),t._v(" "),e("h4",[t._v(t._s(t.__("welcome")))]),t._v(" "),e("p",{staticClass:"auth-subtitle text-primary"},[t._v("\n          "+t._s(t.__("delivery_message"))+"\n        ")]),t._v(" "),e("form",{on:{submit:function(s){return s.preventDefault(),t.loginCheck()}}},[e("div",{staticClass:"form-group position-relative has-icon-left mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control form-control-xl",attrs:{type:"email",placeholder:t.__("email_address"),required:""},domProps:{value:t.user.email},on:{input:function(s){s.target.composing||t.$set(t.user,"email",s.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group position-relative has-icon-left"},["checkbox"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control form-control-xl",attrs:{placeholder:t.__("password"),required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.user.password)?t._i(t.user.password,null)>-1:t.user.password},on:{change:function(s){var e=t.user.password,a=s.target,o=!!a.checked;if(Array.isArray(e)){var r=t._i(e,null);a.checked?r<0&&t.$set(t.user,"password",e.concat([null])):r>-1&&t.$set(t.user,"password",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(t.user,"password",o)}}}):"radio"==(t.showPassword?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control form-control-xl",attrs:{placeholder:t.__("password"),required:"",type:"radio"},domProps:{checked:t._q(t.user.password,null)},on:{change:function(s){return t.$set(t.user,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control form-control-xl",attrs:{placeholder:t.__("password"),required:"",type:t.showPassword?"text":"password"},domProps:{value:t.user.password},on:{input:function(s){s.target.composing||t.$set(t.user,"password",s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn btn-sm btn-outline-light font-bold text-primary",staticStyle:{position:"absolute","margin-top":"-45px"},style:"true"===t.isRTL?"left: 10px;":"right: 10px;",attrs:{type:"button"},on:{click:function(s){t.showPassword=!t.showPassword}}},[t._v("\n              "+t._s(t.showPassword?t.__("hide"):t.__("show"))+"\n            ")])]),t._v(" "),e("div",{staticClass:"mb-4 text-end",staticStyle:{"margin-top":"35px"}},[e("router-link",{staticClass:"font-bold",attrs:{to:"/forgot-password"}},[e("span",[t._v(t._s(t.__("forgot_password?")))])])],1),t._v(" "),e("button",{staticClass:"btn btn-primary btn-block btn-lg shadow-lg mt-5 auth-btn"},[t._v("\n            "+t._s(t.__("login"))+"\n            "),t.isLoading?e("b-spinner",{attrs:{small:"",label:"Spinning"}}):t._e()],1)]),t._v(" "),e("router-link",{staticClass:"btn btn-primary btn-block btn-lg shadow-lg mt-2 auth-btn",attrs:{to:"/delivery_boy/register"}},[t._v("\n          "+t._s(t.__("register"))+"\n        ")]),t._v(" "),e("router-link",{staticClass:"btn btn-primary btn-block btn-lg shadow-lg mt-5 auth-btn",attrs:{to:"/login"}},[t._v("\n          "+t._s(t.__("admin_panel"))+"\n        ")]),t._v(" "),e("div",{staticClass:"auth-copyright"},[e("a",{staticClass:"text-primary font-weight-normal",attrs:{href:"javascript:void(0)"}},[t._v("\n            "+t._s(t.$copyrightDetails))])])],1)])])],1)}),[],!1,null,"056b61ac",null).exports},8453:(t,s,e)=>{e.d(s,{Z:()=>r});var a=e(3023);const o={components:{},data:function(){return{isLoading:!1,lang:"",languages:[],showPassword:!1,loggedUser:a.Z.user,setting:"",copyrightDetails:window.copyrightDetails,selectedLanguage:{}}},computed:{isRTL:{get:function(){return localStorage.getItem("isRTL")},set:function(t){localStorage.setItem("isRTL",t)}}},mounted:function(){this.getLanguage()},methods:{setDirection:function(t){document.documentElement.setAttribute("dir",t?"rtl":"ltr")},getLanguage:function(){var t=this;this.isLoading=!0;this.lang=localStorage.getItem("lang"),axios.get(this.$apiUrl+"/system_languages",{params:{system_type:4}}).then((function(s){t.isLoading=!1;var e=s.data;if(e&&Array.isArray(e.data)?(t.languages=e.data,t.totalRows=t.languages.length):(t.languages=[],t.totalRows=0),!t.isRTL){var a=t.languages.find((function(t){return 1===t.is_default}));if(a){t.selectedLanguage=a.code,window.localStorage.setItem("lang",t.selectedLanguage);var o="ar"===a.code;localStorage.setItem("isRTL",o)}}})).catch((function(s){t.isLoading=!1,console.error("Error fetching languages:",s)}))},changeLanguage:function(t){var s=this;this.lang=t.target.value,window.localStorage.setItem("lang",this.lang),this.isLoading=!0;var e={language:this.lang};"ar"===this.lang?(localStorage.setItem("isRTL",!0),document.body.classList.add("rtl")):(localStorage.setItem("isRTL",!1),document.body.classList.remove("rtl")),this.setDirection(this.isRTL),axios.post(this.$apiUrl+"/change_language",e).then((function(t){s.isLoading=!1,s.updateDefaultLanguage(s.lang),window.location.reload()}))},updateDefaultLanguage:function(t){this.languages.forEach((function(s){s.code===t?s.is_default=1:s.is_default=0}))}}};const r=(0,e(1900).Z)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticStyle:{position:"absolute",top:"0rem",left:"2rem"}},[e("div",{staticClass:"lang_div"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.lang,expression:"lang"}],staticClass:"form-control form-select",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.lang=s.target.multiple?e:e[0]},function(s){return t.changeLanguage(s)}]}},[0===t.languages.length?[e("option",{attrs:{value:"en"}},[t._v(t._s(t.__("english")))])]:t._l(t.languages,(function(s){return e("option",{key:s.code,domProps:{value:s.code,selected:s.code===t.selectedLanguage}},[t._v("\n          "+t._s(s.name)+"\n        ")])}))],2)])])}),[],!1,null,null,null).exports}}]);